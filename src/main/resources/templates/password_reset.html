<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.springframework.org/security/tags">

    <head>
        <title>PvTracker | Password change</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"/>
        <meta th:replace="fragments/common_styles :: common_styles"/>
    </head>

    <body>
        <section class="container">
            <form action="#" th:method="POST" th:action="@{/password/reset}" th:object="${dto}">
                <div class="row">
                    <div class="col">
                        <h3>Provide new password</h3>
                    </div>
                </div>
                <div th:if="${#fields.hasErrors('global')}" class="row">
                    <div th:errors="*{global}" class="col alert alert-danger" role='alert'>global error msg</div>
                </div>
                <div class="row">
                    <div class="col">
                        <small>Password policy</small>
                        <ul>
                            <li><small>Must be at least 6 characters long</small></li>
                            <li><small>Must contain at least one of each: a lower case letter, an upper case letter, and a digit</small></li>
                            <li><small>May contain one or more of the following special characters: ! @ # $ % & / = + ? ^ ~ * ' , ; . : _ -</small></li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col form-group">
                        <label for="newPassword">New password</label>
                        <input th:field="*{newPassword}" type="password" class="form-control" th:errorclass="is-invalid" placeholder="Type a password"/>
                        <small th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}" class="invalid-feedback">error msg</small>
                    </div>
                </div>
                <div class="row">
                    <div class="col form-group">
                        <label for="confirmPassword">Confirm new password</label>
                        <input th:field="*{confirmPassword}" type="password" class="form-control" th:errorclass="is-invalid" placeholder="Type the same thing again"/>
                        <small th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="invalid-feedback">error msg</small>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <input type="submit" value="Change password"/>
                    </div>
                </div>
            </form>
        </section>

        <script th:replace="fragments/common_scripts :: common_scripts"></script>
    </body>

</html>